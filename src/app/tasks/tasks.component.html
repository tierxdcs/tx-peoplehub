<main class="tasks-shell">
  <header class="tasks-topbar">
    <div>
      <p class="eyebrow">Tasks</p>
      <h1>Open tasks</h1>
      <p class="subtitle">Track HR and operational tasks in one place.</p>
    </div>
    <div class="actions">
      <a class="ghost button-link" routerLink="/">Back to home</a>
    </div>
  </header>

  <section class="tasks-list">
    <div class="section-header">
      <h2>Pending approvals</h2>
      <span class="pill">{{ approvals.length }} open</span>
    </div>
    @if (approvals.length) {
      @for (task of approvals; track task.id) {
        <button
          class="task-card"
          type="button"
          [routerLink]="['/approvals']"
          [queryParams]="{ open: task.id }"
        >
          <div>
            <strong>{{ task.title }}</strong>
            <span>{{ task.owner }}</span>
          </div>
          <span class="pill">{{ task.due }}</span>
        </button>
      }
    } @else {
      <p class="empty">No approvals awaiting review.</p>
    }
  </section>

  <section class="tasks-list">
    <div class="section-header">
      <h2>Completed approvals</h2>
      <span class="pill soft">{{ completed.length }} done</span>
    </div>
    @if (completed.length) {
      @for (task of completed; track task.id) {
        <div class="task-card done">
          <div>
            <strong>{{ task.title }}</strong>
            <span>{{ task.owner }}</span>
          </div>
          <span class="pill">{{ task.status }}</span>
        </div>
      }
    } @else {
      <p class="empty">No completed approvals yet.</p>
    }
  </section>
</main>
