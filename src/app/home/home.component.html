<main class="shell">
  <section class="hero">
    <div class="hero-text">
      <p class="eyebrow">Enterprise HR Command Center</p>
      <h1>People operations with clarity, not chaos.</h1>
      <p class="lead">
        A unified view of talent, performance, and workforce health across
        TierX. Automate the busywork and keep every team aligned.
      </p>
      <div class="hero-actions">
        <button class="primary" type="button" routerLink="/people">
          Open People Directory
        </button>
      </div>
      <div class="hero-stats">
        <div>
          <span class="value">1,248</span>
          <span class="label">Active employees</span>
        </div>
        <div>
          <span class="value">96%</span>
          <span class="label">Compliance coverage</span>
        </div>
        <div>
          <span class="value">14</span>
          <span class="label">Sites monitored</span>
        </div>
      </div>
    </div>
    <div class="hero-cards">
      <article class="card spotlight">
        <div class="card-header">
          <span>Employee spotlight</span>
          <span class="pill">Quarterly review</span>
        </div>
        <h3>Nithin Gangadhar</h3>
        <p>Network Operations Â· Austin</p>
        <div class="progress">
          <div class="bar" style="width: 86%"></div>
        </div>
        <div class="spotlight-footer">
          <div>
            <span class="value">4.8</span>
            <span class="label">Engagement score</span>
          </div>
          <a class="ghost button-link" [routerLink]="['/people', 'alina-torres']"
            >View profile</a
          >
        </div>
      </article>
      <article class="card checklist">
        <div class="card-header">
          <span>Today</span>
          <span class="pill soft">3 due</span>
        </div>
        <ul>
          <li>Approve 6 time-off requests</li>
          <li>Finalize Dallas hiring plan</li>
          <li>Review onboarding checklist</li>
        </ul>
        <button class="ghost" type="button" routerLink="/tasks">Open tasks</button>
      </article>
    </div>
  </section>

  <section class="workspace">
    <div class="panel">
      <div class="panel-header">
        <div>
          <h2>Core modules</h2>
          <p>Everything your HR team needs in one place.</p>
        </div>
        <button class="ghost" type="button">Customize</button>
      </div>
      <div class="module-grid">
        <article class="module-card" routerLink="/financials">
          <h3>My financials</h3>
          <p>Salary details, offer letter, and benefits overview.</p>
          <span class="tag">Comp & benefits</span>
        </article>
        <article class="module-card">
          <h3>Onboarding</h3>
          <p>Automate new-hire workflows and provisioning.</p>
          <span class="tag">24 in progress</span>
        </article>
        <article class="module-card">
          <h3>Performance</h3>
          <p>Quarterly goals, reviews, and feedback loops.</p>
          <span class="tag">Q4 live</span>
        </article>
        <article class="module-card">
          <h3>Workforce Planning</h3>
          <p>Scenario planning for growth, churn, and staffing.</p>
          <span class="tag">6 forecasts</span>
        </article>
        <article class="module-card">
          <h3>Compliance</h3>
          <p>Keep audits, training, and certifications current.</p>
          <span class="tag">96% coverage</span>
        </article>
        <article class="module-card">
          <h3>Compensation</h3>
          <p>Merit cycles, bands, and approvals aligned.</p>
          <span class="tag">Cycle opens May 5</span>
        </article>
      </div>
    </div>

    <div class="panel insights">
      <div class="panel-header">
        <div>
          <h2>Apply for leave</h2>
          <p>Request time off and track approval status.</p>
        </div>
        <button class="ghost" type="button" (click)="openBalances()">
          View balances
        </button>
      </div>
      <form class="leave-form">
        <label>
          Leave type
          <select [(ngModel)]="leaveForm.type" name="leaveType">
            <option>PTO</option>
            <option>Sick</option>
            <option>Personal</option>
            <option>Parental</option>
          </select>
        </label>
        <label>
          Start date
          <input type="date" [(ngModel)]="leaveForm.startDate" name="leaveStart" />
        </label>
        <label>
          End date
          <input type="date" [(ngModel)]="leaveForm.endDate" name="leaveEnd" />
        </label>
        <label>
          Notes
          <textarea
            rows="3"
            placeholder="Add context for your manager"
            [(ngModel)]="leaveForm.notes"
            name="leaveNotes"
          ></textarea>
        </label>
      </form>
      <button class="primary full" type="button" (click)="submitLeave()">
        Submit request
      </button>
      @if (leaveError) {
        <p class="leave-error">{{ leaveError }}</p>
      }
      <div class="leave-requests">
        <h3>Pending approvals</h3>
        @if (pendingRequests.length) {
          @for (request of pendingRequests; track request.type + request.range) {
            <div class="request-row">
              <div>
                <strong>{{ request.type }}</strong>
                <span>{{ request.range }}</span>
              </div>
              <span class="status">{{ request.status }}</span>
            </div>
          }
        } @else {
          <p class="empty">No pending requests.</p>
        }
      </div>
    </div>
  </section>
</main>

@if (isBalanceOpen) {
  <div class="modal-backdrop" (click)="closeBalances()"></div>
  <div class="modal" role="dialog" aria-modal="true">
    <header>
      <div>
        <p class="eyebrow">Leave balances</p>
        <h3>Current balances</h3>
      </div>
      <button class="ghost" type="button" (click)="closeBalances()">
        Close
      </button>
    </header>
    <div class="modal-body">
      <div class="balance-row">
        <div>
          <strong>PTO</strong>
          <span>Available</span>
        </div>
        <span class="value">12 days</span>
      </div>
      <div class="balance-row">
        <div>
          <strong>Sick</strong>
          <span>Available</span>
        </div>
        <span class="value">8 days</span>
      </div>
      <div class="balance-row">
        <div>
          <strong>Personal</strong>
          <span>Available</span>
        </div>
        <span class="value">3 days</span>
      </div>
    </div>
  </div>
}
