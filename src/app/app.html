<div class="app-shell">
  @if (showChrome) {
    <header class="app-topbar">
      <div class="brand">
        <span class="product">tx-peoplehub</span>
        <span class="org">TierX Data Center Solutions</span>
      </div>
      <nav class="nav">
        <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }"
          >People</a
        >
        <a routerLink="/teams" routerLinkActive="active">Teams</a>
        <a routerLink="/admin" routerLinkActive="active">Admin</a>
        <a routerLink="/settings" routerLinkActive="active">Settings</a>
      </nav>
      <div class="actions">
        <button
          class="ghost icon-button"
          type="button"
          aria-label="Notifications"
          (click)="toggleNotifications()"
        >
          <span aria-hidden="true">ðŸ””</span>
        </button>
        @if (notificationsOpen) {
          <div class="notifications-panel" role="dialog" aria-label="Notifications">
            <div class="notifications-header">
              <strong>Alerts</strong>
              <span>Today</span>
            </div>
            <div class="notifications-list">
              <div class="notification-item">
                <p>Training module due tomorrow.</p>
                <span>Compliance & training</span>
              </div>
              <div class="notification-item">
                <p>Reimbursement submitted for approval.</p>
                <span>Finance</span>
              </div>
              <div class="notification-item">
                <p>Leave request awaiting manager review.</p>
                <span>People</span>
              </div>
            </div>
          </div>
        }
        <button class="avatar" type="button" aria-label="Account" (click)="toggleAvatarMenu()">
          AT
        </button>
        @if (avatarOpen) {
          <div class="account-panel" role="dialog" aria-label="Account options">
            <div class="account-header">
              <strong>Alex Taylor</strong>
              <span>HR Operations</span>
            </div>
            <div class="account-actions">
              <a class="ghost button-link" routerLink="/people/alina-torres">My profile</a>
              <button class="ghost" type="button" (click)="logout()">Logout</button>
            </div>
          </div>
        }
      </div>
    </header>
  }

  <main class="app-content" [class.no-topbar]="!showChrome">
    <router-outlet />
  </main>

  @if (showChrome) {
    <footer class="app-footer">
      Proudly developed by TierX DCS | 2026
    </footer>
  }
</div>
