<main class="compliance-shell">
  <header class="compliance-topbar">
    <div>
      <p class="eyebrow">Compliance & training</p>
      <h1>Required learning</h1>
      <p class="subtitle">
        Assign, complete, and track compliance and employee training.
      </p>
    </div>
    <div class="actions">
      <a class="ghost button-link" routerLink="/">Back to home</a>
    </div>
  </header>

  <section class="compliance-grid">
    <article class="panel">
      <div class="panel-header">
        <h2>Training assignments</h2>
        <span class="pill">Active</span>
      </div>
      @if (trainings.length) {
        <div class="list">
          @for (training of trainings; track training.title) {
            <div class="row">
              <div>
                <strong>{{ training.title }}</strong>
                <span>
                  @if (training.status === 'Completed' && training.completedAt) {
                    Completed on {{ training.completedAt | date : 'mediumDate' }}
                  } @else {
                    Due {{ training.due }}
                  }
                </span>
              </div>
              <div class="row-actions">
                <span class="status">{{ training.status }}</span>
                <a class="ghost small button-link" [routerLink]="['/compliance-training', training.title]">
                  Start
                </a>
              </div>
            </div>
          }
        </div>
      } @else {
        <p class="empty">No assigned training for your department yet.</p>
      }
    </article>

    <article class="panel">
      <div class="panel-header">
        <h2>Completed training</h2>
        <span class="pill soft">Last 90 days</span>
      </div>
      @if (completedTrainings.length) {
        <div class="list">
          @for (item of completedTrainings; track item.title) {
            <div class="row">
              <div>
                <strong>{{ item.title }}</strong>
                <span>Completed on {{ item.completedAt | date : 'mediumDate' }}</span>
              </div>
              <div class="row-actions">
                <span class="status">Done</span>
                <span class="ghost-placeholder">Start</span>
              </div>
            </div>
          }
        </div>
      } @else {
        <p class="empty">No completed training yet.</p>
      }
    </article>

  </section>
</main>
